<div class="transaction-modal-container">
  <!-- Header -->
  <div class="modal-header">
    <h2 mat-dialog-title>
      <mat-icon [style.color]="getCategoryColor(transaction.category)">
        {{ getCategoryIcon(transaction.category) }}
      </mat-icon>
      Transaction Details
    </h2>
    <button mat-icon-button (click)="close()" class="close-button">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- Content -->
  <mat-dialog-content class="modal-content">

    <!-- Transaction Status Card -->
    <mat-card class="status-card">
      <mat-card-content>
        <div class="status-header">
          <div class="status-info">
            <mat-chip [color]="getTransactionStatus().color" selected>
              <mat-icon>{{ getTransactionStatus().icon }}</mat-icon>
              {{ getTransactionStatus().status }}
            </mat-chip>
            <span class="transaction-date">{{ formatDate(transaction.date) }}</span>
          </div>
          <div class="amount-display">
            <span class="amount" [class.income]="transaction.type === 'income'">
              {{ formatCurrency(transaction.amount) }}
            </span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Transaction Details -->
    <div class="details-section">
      <h3>Transaction Information</h3>

      <div class="details-grid">
        <div class="detail-item">
          <span class="label">Category:</span>
          <span class="value">
            <mat-chip [style.background-color]="getCategoryColor(transaction.category)" selected>
              <mat-icon>{{ getCategoryIcon(transaction.category) }}</mat-icon>
              {{ transaction.category }}
            </mat-chip>
          </span>
        </div>

        <div class="detail-item">
          <span class="label">Note:</span>
          <span class="value">{{ transaction.note || 'No note provided' }}</span>
        </div>

        <div class="detail-item">
          <span class="label">Payment Method:</span>
          <span class="value">
            <mat-icon>{{ getPaymentMethodIcon(transaction.paymentMethod) }}</mat-icon>
            {{ transaction.paymentMethod }}
          </span>
        </div>

        <div class="detail-item">
          <span class="label">Paid By:</span>
          <span class="value">{{ transaction.paidBy }}</span>
        </div>
      </div>


    </div>
  </mat-dialog-content>

  <!-- Actions -->
  <mat-dialog-actions class="modal-actions">
    <div class="action-buttons">
      <!-- Edit Transaction -->
      <button mat-button (click)="editTransaction()" color="primary">
        <mat-icon>edit</mat-icon>
        Edit
      </button>

      <!-- Delete Transaction -->
      <button mat-button (click)="deleteTransaction()" color="warn">
        <mat-icon>delete</mat-icon>
        Delete
      </button>

      <!-- Close Modal -->
      <button mat-button (click)="close()">
        <mat-icon>close</mat-icon>
        Close
      </button>
    </div>
  </mat-dialog-actions>
</div>
